{"version":3,"sources":["redux/Auth/auth-operations.js","components/Navigations/navigations.module.css","redux/actions.js","components/UserMenu/userMenu.module.css","components/AppBar/appBar.module.css","redux/Auth/auth-selectors.js","components/Navigations/Navigations.js","AuthNav.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/PublicRoute/PublicRoute.js","components/PrivateRoute/PrivateRoute.js","App.js","redux/reducer.js","redux/Auth/auth-slice.js","redux/store.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","rejectWithValue","post","data","logIn","logOut","_","fetchCurrentUser","thunkAPI","state","getState","persistedToken","auth","get","module","exports","addContactsRequests","createAction","addContactsSuccess","addContactsError","deleteContactsRequests","deleteContactsSuccess","deleteContactsError","getContactsRequests","getContactsSuccess","getContactsError","changeFilter","authSelectors","getIsLoggedIn","isLoggedIn","getUserName","user","name","getIsFetching","isFetching","Navigation","useSelector","className","s","link","to","AuthNav","UserMenu","dispatch","useDispatch","user_menu","user_menu_title","user_menu_title_name","user_menu_btn","type","onClick","AppBar","header","PublicRoute","restricted","redirectTo","PrivateRoute","HomeView","lazy","RegisterView","LoginView","ContactView","App","useEffect","fallback","color","height","width","timeout","display","loader","path","element","items","createReducer","payload","filter","contact","id","contactsReducer","combineReducers","authSlice","createSlice","initialState","email","extraReducers","fulfilled","_action","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.5ac2da1c.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  'auth/register',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/signup', credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const logIn = createAsyncThunk(\r\n  'auth/login',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/login', credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'auth/logout',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post('/users/logout');\r\n      token.unset();\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.data);\r\n    }\r\n  },\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"navigations_link__1pvqB\",\"activeLink\":\"navigations_activeLink__55gpF navigations_link__1pvqB\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const addContactsRequests = createAction('contacts/addRequests');\r\nexport const addContactsSuccess = createAction('contacts/addSuccess');\r\nexport const addContactsError = createAction('contacts/addError');\r\n\r\nexport const deleteContactsRequests = createAction('contacts/deleteRequests');\r\nexport const deleteContactsSuccess = createAction('contacts/deleteSuccess');\r\nexport const deleteContactsError = createAction('contacts/deleteError');\r\n\r\nexport const getContactsRequests = createAction('contacts/getRequests');\r\nexport const getContactsSuccess = createAction('contacts/getSuccess');\r\nexport const getContactsError = createAction('contacts/getError');\r\n\r\nexport const changeFilter = createAction('contacts/FILTER');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_menu\":\"userMenu_user_menu__1_FfY\",\"user_menu_btn\":\"userMenu_user_menu_btn__3zk9s\",\"user_menu_title\":\"userMenu_user_menu_title__2vki7\",\"user_menu_title_name\":\"userMenu_user_menu_title_name__lsUq8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"appBar_header__180C3\",\"loader\":\"appBar_loader__2x8pV\"};","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\nconst getUserName = state => state.auth.user.name;\r\nconst getIsFetching = state => state.auth.isFetching;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n  getIsFetching,\r\n};\r\n\r\nexport default authSelectors;\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './navigations.module.css';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/Auth/auth-selectors';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink className={s.link} to=\"/\">\r\n        Home\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink className={s.link} to=\"/contacts\">\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './components/Navigations/navigations.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <nav>\r\n      <NavLink className={s.link} to=\"/register\">\r\n        Registration\r\n      </NavLink>\r\n      <NavLink className={s.link} to=\"/login\">\r\n        Log In\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/Auth/auth-selectors';\r\nimport { logOut } from '../../redux/Auth/auth-operations';\r\nimport s from './userMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n  return (\r\n    <div className={s.user_menu}>\r\n      <p className={s.user_menu_title}>\r\n        Welcome,<span className={s.user_menu_title_name}>{name}</span>\r\n      </p>\r\n      <button\r\n        className={s.user_menu_btn}\r\n        type=\"button\"\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        Exit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import Navigation from '../Navigations/Navigations';\r\nimport s from './appBar.module.css';\r\nimport { useSelector } from 'react-redux';\r\nimport AuthNav from '../../AuthNav';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\n\r\nimport authSelectors from '../../redux/Auth/auth-selectors';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\nimport authSelectors from '../../redux/Auth/auth-selectors';\r\n\r\nfunction PublicRoute({ restricted = false, redirectTo = '/' }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n\r\n  return !shouldRedirect ? <Outlet /> : <Navigate to={redirectTo} />;\r\n}\r\n\r\nexport default PublicRoute;\r\n","import { useSelector } from 'react-redux';\r\nimport { Outlet, Navigate } from 'react-router-dom';\r\nimport authSelectors from '../../redux/Auth/auth-selectors';\r\n\r\nexport default function PrivateRoute({ redirectTo = '/' }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return isLoggedIn ? <Outlet /> : <Navigate to={redirectTo} />;\r\n}\r\n","import { useEffect, lazy, Suspense } from 'react';\nimport { Route, Routes } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport AppBar from './components/AppBar/AppBar.js';\nimport s from './components/AppBar/appBar.module.css';\nimport authSelectors from './redux/Auth/auth-selectors';\nimport { fetchCurrentUser } from './redux/Auth/auth-operations';\nimport PublicRoute from './components/PublicRoute/PublicRoute.js';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute.js';\n\nconst HomeView = lazy(() =>\n  import('./Views/HomeView' /* webpackChunkName: \"home-page\" */),\n);\n\nconst RegisterView = lazy(() =>\n  import('./Views/RegisterView' /* webpackChunkName: \"register-page\" */),\n);\n\nconst LoginView = lazy(() =>\n  import('./Views/LoginView' /* webpackChunkName: \"login-page\" */),\n);\n\nconst ContactView = lazy(() =>\n  import('./Views/ContactView' /* webpackChunkName: \"contact-page\" */),\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetching = useSelector(authSelectors.getIsFetching);\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser());\n  }, [dispatch]);\n\n  return !isFetching ? (\n    <div>\n      <AppBar />\n      <Suspense\n        fallback={\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n            display=\"flex\"\n            justify-content=\"center\"\n            className={s.loader}\n          />\n        }\n      >\n        <Routes>\n          <Route path=\"/\" element={<PublicRoute />}>\n            <Route path=\"/\" element={<HomeView />} />\n          </Route>\n          <Route\n            path=\"/register\"\n            element={<PublicRoute restricted redirectTo=\"/contacts\" />}\n          >\n            <Route path=\"/register\" element={<RegisterView />} />\n          </Route>\n          <Route\n            path=\"/login\"\n            element={<PublicRoute redirectTo=\"/contacts\" restricted />}\n          >\n            <Route path=\"/login\" element={<LoginView />} />\n          </Route>\n          <Route element={<PrivateRoute path=\"/contacts\" redirectTo=\"/\" />}>\n            <Route path=\"/contacts\" element={<ContactView />} />\n          </Route>\n        </Routes>\n      </Suspense>\n    </div>\n  ) : null;\n}\n","import { combineReducers } from 'redux';\r\nimport {\r\n  addContactsSuccess,\r\n  deleteContactsSuccess,\r\n  getContactsSuccess,\r\n  changeFilter,\r\n} from './actions';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nconst items = createReducer([], {\r\n  [getContactsSuccess]: (_, { payload }) => payload,\r\n  [deleteContactsSuccess]: (state, { payload }) =>\r\n    state.filter(contact => contact.id !== payload),\r\n  [addContactsSuccess]: (state, { payload }) => [...state, payload],\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items,\r\n  filter,\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { register, logIn, logOut, fetchCurrentUser } from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetching: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [logOut.fulfilled](state, _action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [fetchCurrentUser.pending](state) {\r\n      state.isFetching = true;\r\n    },\r\n    [fetchCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetching = false;\r\n    },\r\n    [fetchCurrentUser.rejected](state) {\r\n      state.isFetching = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n// Ссылка на локал Сторедж\r\nimport storage from 'redux-persist/lib/storage';\r\nimport logger from 'redux-logger';\r\nimport contactsReducer from './reducer';\r\nimport authReducer from './Auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n// Конфигурация локал  сторедж\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}